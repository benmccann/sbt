# First clean any previous test state
> cleanLocalCache

# Validate that a bad dependency fails the compile
$ copy-file changes/BadCommon.scala common/src/main/scala/Common.scala
> common/publish

# Force dep resolution to be successful, then compilation to fail
> dependent/update
-> dependent/compile

# Push new good change to a DIFFERENT repository.
$ copy-file changes/GoodCommon.scala common/src/main/scala/Common.scala
> common/publishLocal

# Force the update task to look for the new -SNAPSHOT.
> dependent/update


$ copy-file changes/BadCommon.scala common/src/main/scala/Common.scala
> common/publish
> dependent/update


$ copy-file changes/GoodCommon.scala common/src/main/scala/Common.scala
> common/publishLocal
> dependent/update


# This should compile now, because Ivy should look at each repository for the most up-to-date file.
> dependent/compile
